#
# RAFCON -- RMC awesome flow control
#

PTVERSION           = 2
NAME                = rafcon 
MAINTAINER          = Sebastian Brunner <sebastian.brunner@dlr.de>, Rico Belder <rico.belder@dlr.de>, Franz Steinmetz <franz.steinmetz@dlr.de>
DESCRIPTION         = RMC awesome flow control -- This is a package to program and visualize complex robot tasks.
VERSION             = 0.8.0
DOCUMENTATION       = https://rmintra01.robotic.dlr.de/wiki/RAFCON
MANTIS_PROJECT      = DLR Flow-Control
SUPPORTED_LANGUAGES = python
DEPENDS = 
DEPENDS.sled11*     = gtk_etc==0, gtk_etc_python==0, python-jsonconversion==0.1, python_yaml_configuration==0
DEPENDS.osl*        = python-gtkmvc==1.99, python-gaphas==0.7, python-jsonconversion==0.1, python_yaml_configuration==0, sw.common.pango==1.40

ARCHS               = sled11-x86-gcc4.x, sled11-x86_64-gcc4.x, osl42-x86_64
PYTHON_PATHS        = ${PKGROOT}/lib/python2.7
ADDITIONAL_ENV.osl* = RAFCON_PATH=${PKGROOT}/lib/python2.7/rafcon, RAFCON_LIB_PATH=${PKGROOT}/share/libraries, PATH=${PKGROOT}/bin:$${PATH}
ADDITIONAL_ENV.sled11* = RAFCON_PATH=${PKGROOT}/lib/python2.7/rafcon, RAFCON_LIB_PATH=${PKGROOT}/share/libraries, PATH=${PKGROOT}/bin:/opt/python/python2.7/bin:$${PATH}

[install]
source/rafcon | !*.pyc => lib/python2.7/rafcon
source/libraries | !*.pyc => share/libraries
share | !*.pyc | !.gitignore => share
source/test_scripts/ros_libraries => share/examples/libraries/ros_libraries
source/test_scripts/turtle_libraries => share/examples/libraries/turtle_libraries
source/test_scripts/tutorials => share/examples/tutorials
source/rafcon/documentation => docs
bin/ | !rafcon_start | !rafcon_start_gui | !resave_state_machines  | !*.pyc => bin # Symlinks are recreated in post_install step

[post-install]
cd ${RMPM_INSTALL_DIR}/bin && ln -s ../lib/python2.7/rafcon/core/start.py rafcon_start && ln -s ../lib/python2.7/rafcon/gui/start.py rafcon_start_gui && ln -s ../lib/python2.7/rafcon/gui/resave_state_machines.py resave_state_machines
